{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Nicholas Gadjali\\\\Documents\\\\GitHub\\\\BankWebApp\\\\client\\\\src\\\\components\\\\forms\\\\LoginForm.js\";\nimport React from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport { withRouter } from \"react-router-dom\";\n\nvar LoginForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginForm, _React$Component);\n\n  function LoginForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {\n        username: \"\",\n        password: \"\"\n      },\n      loading: false,\n      errors: {}\n    };\n\n    _this.onChange = function (e) {\n      return _this.setState({\n        data: _objectSpread({}, _this.state.data, _defineProperty({}, e.target.name, e.target.value))\n      });\n    };\n\n    _this.handleSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var data, response, user_id;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(\"handling submit\");\n                e.preventDefault();\n                data = _this.state.data;\n                _context.next = 5;\n                return fetch(\"http://localhost:8080/users/login\", {\n                  mode: \"cors\",\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: JSON.stringify({\n                    post: data\n                  })\n                }).then(function (res) {\n                  return res.json();\n                });\n\n              case 5:\n                response = _context.sent;\n\n                _this.setState({\n                  responseToPost: response\n                });\n\n                if (response.Success) {\n                  user_id = response.uID;\n                  console.log('yo mofo ', user_id);\n\n                  _this.props.history.push({\n                    pathname: \"/dashboard\",\n                    state: {\n                      uID: user_id\n                    }\n                  });\n                } else {\n                  window.alert(\"The Username or Password you entered does not match our records.\");\n                }\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      var data = this.state.data;\n      return React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"username\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: data.username,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        id: \"pasword\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: data.password,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(Button, {\n        primary: true,\n        style: {\n          margin: \"5px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Sign In\"));\n    }\n  }]);\n\n  return LoginForm;\n}(React.Component);\n\nexport default withRouter(LoginForm);","map":{"version":3,"sources":["C:\\Users\\Nicholas Gadjali\\Documents\\GitHub\\BankWebApp\\client\\src\\components\\forms\\LoginForm.js"],"names":["React","Form","Button","withRouter","LoginForm","state","data","username","password","loading","errors","onChange","e","setState","target","name","value","handleSubmit","console","log","preventDefault","fetch","mode","method","headers","body","JSON","stringify","post","then","res","json","response","responseToPost","Success","user_id","uID","props","history","push","pathname","window","alert","margin","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Form, Button } from \"semantic-ui-react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass LoginForm extends React.Component {\r\n  state = {\r\n    data: {\r\n      username: \"\",\r\n      password: \"\"\r\n    },\r\n    loading: false,\r\n    errors: {}\r\n  };\r\n\r\n  onChange = e =>\r\n    this.setState({\r\n      data: { ...this.state.data, [e.target.name]: e.target.value }\r\n    });\r\n\r\n  handleSubmit = async e => {\r\n    console.log(\"handling submit\");\r\n    e.preventDefault();\r\n    const { data } = this.state;\r\n    const response = await fetch(\"http://localhost:8080/users/login\", {\r\n      mode: \"cors\",\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({ post: data })\r\n    }).then(res => res.json());\r\n    this.setState({ responseToPost: response });\r\n    if (response.Success) {\r\n      const user_id = response.uID;\r\n      console.log('yo mofo ', user_id)\r\n      this.props.history.push({\r\n        pathname: \"/dashboard\",\r\n        state: { uID: user_id }\r\n      });\r\n    } else {\r\n      window.alert(\r\n        \"The Username or Password you entered does not match our records.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { data } = this.state;\r\n    return (\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <Form.Field>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            placeholder=\"Username\"\r\n            value={data.username}\r\n            onChange={this.onChange}\r\n          />\r\n        </Form.Field>\r\n        <Form.Field>\r\n          <input\r\n            type=\"password\"\r\n            id=\"pasword\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            value={data.password}\r\n            onChange={this.onChange}\r\n          />\r\n        </Form.Field>\r\n        <Button primary style={{ margin: \"5px\" }}>\r\n          Sign In\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LoginForm);\r\n"]},"metadata":{},"sourceType":"module"}